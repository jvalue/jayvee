/******************************************************************************
 * This file was generated by langium-cli 0.5.0.
 * DO NOT EDIT MANUALLY!
 ******************************************************************************/

/* eslint-disable @typescript-eslint/array-type */
/* eslint-disable @typescript-eslint/no-empty-interface */
import { AstNode, AstReflection, Reference, ReferenceInfo, isAstNode, TypeMetaData } from 'langium';

export type BlockType = CSVFileExtractor | LayoutValidator | PostgresLoader;

export const BlockType = 'BlockType';

export function isBlockType(item: unknown): item is BlockType {
    return reflection.isInstance(item, BlockType);
}

export type IntAttributeValue = IntValue | RuntimeParameter;

export const IntAttributeValue = 'IntAttributeValue';

export function isIntAttributeValue(item: unknown): item is IntAttributeValue {
    return reflection.isInstance(item, IntAttributeValue);
}

export type Section = ColumnSection | RowSection;

export const Section = 'Section';

export function isSection(item: unknown): item is Section {
    return reflection.isInstance(item, Section);
}

export type StringAttributeValue = RuntimeParameter | StringValue;

export const StringAttributeValue = 'StringAttributeValue';

export function isStringAttributeValue(item: unknown): item is StringAttributeValue {
    return reflection.isInstance(item, StringAttributeValue);
}

export type Type = 'boolean' | 'decimal' | 'integer' | 'text';

export interface Block extends AstNode {
    readonly $container: Model;
    name: string
    type: BlockType
}

export const Block = 'Block';

export function isBlock(item: unknown): item is Block {
    return reflection.isInstance(item, Block);
}

export interface ColumnSection extends AstNode {
    readonly $container: Layout;
    columnId: string
    type: Type
}

export const ColumnSection = 'ColumnSection';

export function isColumnSection(item: unknown): item is ColumnSection {
    return reflection.isInstance(item, ColumnSection);
}

export interface CSVFileExtractor extends AstNode {
    readonly $container: Block;
    url: StringAttributeValue
}

export const CSVFileExtractor = 'CSVFileExtractor';

export function isCSVFileExtractor(item: unknown): item is CSVFileExtractor {
    return reflection.isInstance(item, CSVFileExtractor);
}

export interface DatabaseAttribute extends AstNode {
    readonly $container: PostgresLoader;
    value: StringAttributeValue
}

export const DatabaseAttribute = 'DatabaseAttribute';

export function isDatabaseAttribute(item: unknown): item is DatabaseAttribute {
    return reflection.isInstance(item, DatabaseAttribute);
}

export interface HostAttribute extends AstNode {
    readonly $container: PostgresLoader;
    value: StringAttributeValue
}

export const HostAttribute = 'HostAttribute';

export function isHostAttribute(item: unknown): item is HostAttribute {
    return reflection.isInstance(item, HostAttribute);
}

export interface IntValue extends AstNode {
    readonly $container: CSVFileExtractor | DatabaseAttribute | HostAttribute | PasswordAttribute | PortAttribute | UsernameAttribute;
    value: number
}

export const IntValue = 'IntValue';

export function isIntValue(item: unknown): item is IntValue {
    return reflection.isInstance(item, IntValue);
}

export interface Layout extends AstNode {
    readonly $container: Model;
    name: string
    sections: Array<Section>
}

export const Layout = 'Layout';

export function isLayout(item: unknown): item is Layout {
    return reflection.isInstance(item, Layout);
}

export interface LayoutValidator extends AstNode {
    readonly $container: Block;
    layout: Reference<Layout>
}

export const LayoutValidator = 'LayoutValidator';

export function isLayoutValidator(item: unknown): item is LayoutValidator {
    return reflection.isInstance(item, LayoutValidator);
}

export interface Model extends AstNode {
    blocks: Array<Block>
    layouts: Array<Layout>
    pipes: Array<Pipe>
}

export const Model = 'Model';

export function isModel(item: unknown): item is Model {
    return reflection.isInstance(item, Model);
}

export interface PasswordAttribute extends AstNode {
    readonly $container: PostgresLoader;
    value: StringAttributeValue
}

export const PasswordAttribute = 'PasswordAttribute';

export function isPasswordAttribute(item: unknown): item is PasswordAttribute {
    return reflection.isInstance(item, PasswordAttribute);
}

export interface Pipe extends AstNode {
    readonly $container: Model;
    from: Reference<Block>
    to: Reference<Block>
}

export const Pipe = 'Pipe';

export function isPipe(item: unknown): item is Pipe {
    return reflection.isInstance(item, Pipe);
}

export interface PortAttribute extends AstNode {
    readonly $container: PostgresLoader;
    value: IntAttributeValue
}

export const PortAttribute = 'PortAttribute';

export function isPortAttribute(item: unknown): item is PortAttribute {
    return reflection.isInstance(item, PortAttribute);
}

export interface PostgresLoader extends AstNode {
    readonly $container: Block;
    database: DatabaseAttribute
    host: HostAttribute
    name: 'PostgresLoader'
    password: PasswordAttribute
    port: PortAttribute
    username: UsernameAttribute
}

export const PostgresLoader = 'PostgresLoader';

export function isPostgresLoader(item: unknown): item is PostgresLoader {
    return reflection.isInstance(item, PostgresLoader);
}

export interface RowSection extends AstNode {
    readonly $container: Layout;
    header: boolean
    rowId: number
    type: Type
}

export const RowSection = 'RowSection';

export function isRowSection(item: unknown): item is RowSection {
    return reflection.isInstance(item, RowSection);
}

export interface RuntimeParameter extends AstNode {
    readonly $container: CSVFileExtractor | DatabaseAttribute | HostAttribute | PasswordAttribute | PortAttribute | UsernameAttribute;
    name: string
}

export const RuntimeParameter = 'RuntimeParameter';

export function isRuntimeParameter(item: unknown): item is RuntimeParameter {
    return reflection.isInstance(item, RuntimeParameter);
}

export interface StringValue extends AstNode {
    readonly $container: CSVFileExtractor | DatabaseAttribute | HostAttribute | PasswordAttribute | PortAttribute | UsernameAttribute;
    value: string
}

export const StringValue = 'StringValue';

export function isStringValue(item: unknown): item is StringValue {
    return reflection.isInstance(item, StringValue);
}

export interface UsernameAttribute extends AstNode {
    readonly $container: PostgresLoader;
    value: StringAttributeValue
}

export const UsernameAttribute = 'UsernameAttribute';

export function isUsernameAttribute(item: unknown): item is UsernameAttribute {
    return reflection.isInstance(item, UsernameAttribute);
}

export type JayveeAstType = 'Block' | 'BlockType' | 'CSVFileExtractor' | 'ColumnSection' | 'DatabaseAttribute' | 'HostAttribute' | 'IntAttributeValue' | 'IntValue' | 'Layout' | 'LayoutValidator' | 'Model' | 'PasswordAttribute' | 'Pipe' | 'PortAttribute' | 'PostgresLoader' | 'RowSection' | 'RuntimeParameter' | 'Section' | 'StringAttributeValue' | 'StringValue' | 'UsernameAttribute';

export class JayveeAstReflection implements AstReflection {

    getAllTypes(): string[] {
        return ['Block', 'BlockType', 'CSVFileExtractor', 'ColumnSection', 'DatabaseAttribute', 'HostAttribute', 'IntAttributeValue', 'IntValue', 'Layout', 'LayoutValidator', 'Model', 'PasswordAttribute', 'Pipe', 'PortAttribute', 'PostgresLoader', 'RowSection', 'RuntimeParameter', 'Section', 'StringAttributeValue', 'StringValue', 'UsernameAttribute'];
    }

    isInstance(node: unknown, type: string): boolean {
        return isAstNode(node) && this.isSubtype(node.$type, type);
    }

    isSubtype(subtype: string, supertype: string): boolean {
        if (subtype === supertype) {
            return true;
        }
        switch (subtype) {
            case ColumnSection:
            case RowSection: {
                return this.isSubtype(Section, supertype);
            }
            case CSVFileExtractor:
            case LayoutValidator:
            case PostgresLoader: {
                return this.isSubtype(BlockType, supertype);
            }
            case IntValue: {
                return this.isSubtype(IntAttributeValue, supertype);
            }
            case RuntimeParameter: {
                return this.isSubtype(StringAttributeValue, supertype) || this.isSubtype(IntAttributeValue, supertype);
            }
            case StringValue: {
                return this.isSubtype(StringAttributeValue, supertype);
            }
            default: {
                return false;
            }
        }
    }

    getReferenceType(refInfo: ReferenceInfo): string {
        const referenceId = `${refInfo.container.$type}:${refInfo.property}`;
        switch (referenceId) {
            case 'LayoutValidator:layout': {
                return Layout;
            }
            case 'Pipe:from': {
                return Block;
            }
            case 'Pipe:to': {
                return Block;
            }
            default: {
                throw new Error(`${referenceId} is not a valid reference id.`);
            }
        }
    }

    getTypeMetaData(type: string): TypeMetaData {
        switch (type) {
            case 'Layout': {
                return {
                    name: 'Layout',
                    mandatory: [
                        { name: 'sections', type: 'array' }
                    ]
                };
            }
            case 'Model': {
                return {
                    name: 'Model',
                    mandatory: [
                        { name: 'blocks', type: 'array' },
                        { name: 'layouts', type: 'array' },
                        { name: 'pipes', type: 'array' }
                    ]
                };
            }
            case 'RowSection': {
                return {
                    name: 'RowSection',
                    mandatory: [
                        { name: 'header', type: 'boolean' }
                    ]
                };
            }
            default: {
                return {
                    name: type,
                    mandatory: []
                };
            }
        }
    }
}

export const reflection = new JayveeAstReflection();
